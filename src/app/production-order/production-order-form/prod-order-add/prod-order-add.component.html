<div class="card">
    <div class="card-header">
      <h3>Create New Production Order</h3>
    </div>
    <div class="card-body">
      <form [formGroup]="productionOrderForm" (ngSubmit)="onSubmit()">
        <!-- Basic Information -->
        <div class="form-section">
          <h4>Basic Information</h4>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="orderNumber">Order Number</label>
                <input type="text" class="form-control" id="orderNumber" 
                       formControlName="orderNumber" readonly>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="priority">Priority</label>
                <select class="form-control" id="priority" formControlName="priority">
                  <option value="normal">Normal</option>
                  <option value="high">High</option>
                  <option value="urgent">Urgent</option>
                </select>
              </div>
            </div>
          </div>
  
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="productCode">Product</label>
                <select class="form-control" id="productCode" formControlName="productCode" required>
                  <option value="">-- Select Product --</option>
                  <option *ngFor="let product of products" [value]="product.code">
                    {{product.name}} ({{product.code}})
                  </option>
                </select>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="batchNumber">Batch Number</label>
                <input type="text" class="form-control" id="batchNumber" 
                       formControlName="batchNumber" required>
              </div>
            </div>
          </div>
        </div>
  
        <!-- Production Details -->
        <div class="form-section">
          <h4>Production Details</h4>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label for="targetQuantity">Target Quantity</label>
                <div class="input-group">
                  <input type="number" class="form-control" id="targetQuantity" 
                         formControlName="targetQuantity" min="1" required>
                  <div class="input-group-append">
                    <span class="input-group-text">units</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="uom">Unit of Measure</label>
                <select class="form-control" id="uom" formControlName="uom" required>
                  <option value="">-- Select a Unit of Measure --</option>
                  <option *ngFor="let uom of uoms" [value]="uom.uomid">
                    {{ uom.uomCode }}
                  </option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="yield">Expected Yield (%)</label>
                <input type="number" class="form-control" id="yield" 
                       formControlName="yield" min="0" max="100">
              </div>
            </div>
          </div>
  
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="productionLine">Production Line</label>
                <select class="form-control" id="productionLine" formControlName="productionLine" required>
                  <option value="">-- Select Line --</option>
                  <option *ngFor="let line of productionLines" [value]="line.id">
                    {{line.name}} ({{line.id}})
                  </option>
                </select>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="workCenter">Work Center</label>
                <select class="form-control" id="workCenter" formControlName="workCenter" required>
                  <option value="">-- Select Work Center --</option>
                  <option *ngFor="let center of workCenters" [value]="center.id">
                    {{center.name}}
                  </option>
                </select>
              </div>
            </div>
          </div>
        </div>
  
        <!-- Scheduling -->
        <div class="form-section">
          <h4>Scheduling</h4>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="plannedStartDate">Planned Start Date</label>
                <input type="datetime-local" class="form-control" id="plannedStartDate" 
                       formControlName="plannedStartDate" required>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="plannedEndDate">Planned End Date</label>
                <input type="datetime-local" class="form-control" id="plannedEndDate" 
                       formControlName="plannedEndDate" required>
              </div>
            </div>
          </div>
        </div>
  
        <!-- Additional Information -->
        <div class="form-section">
          <h4>Additional Information</h4>
          <div class="form-group">
            <label for="instructions">Special Instructions</label>
            <textarea class="form-control" id="instructions" rows="3" 
                      formControlName="instructions"></textarea>
          </div>
        </div>
  
        <div class="form-actions">
          <button type="submit" class="btn btn-primary" [disabled]="!productionOrderForm.valid">
            Create Production Order
          </button>
          <button type="button" class="btn btn-secondary ml-2" (click)="onCancel()">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
